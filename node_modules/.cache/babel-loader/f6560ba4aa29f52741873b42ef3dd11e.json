{"ast":null,"code":"import jwt from 'jsonwebtoken';\n\nconst getInitialState = () => {\n  const localToken = localStorage.getItem('@token_user');\n  const localUserName = localStorage.getItem('@user_name'); // Usu치rio deslogado\n\n  if (!localToken || !localUserName) return null; // Usu치rio Logado\n\n  const filteredToken = localToken.split(' ')[1];\n  const decodedToken = jwt.decode(filteredToken);\n  const storeData = {\n    login: decodedToken.sub,\n    token: localToken,\n    name: localUserName\n  };\n  return storeData;\n};\n\nconst INITIAL_STATE = getInitialState();\nexport default INITIAL_STATE;","map":{"version":3,"sources":["/Users/douglasmorais/Documents/GitHub/desafio-accenture-react/src/store/user/initialState.ts"],"names":["jwt","getInitialState","localToken","localStorage","getItem","localUserName","filteredToken","split","decodedToken","decode","storeData","login","sub","token","name","INITIAL_STATE"],"mappings":"AACA,OAAOA,GAAP,MAAgB,cAAhB;;AAIA,MAAMC,eAAe,GAAG,MAAuB;AAC3C,QAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAnB;AACA,QAAMC,aAAa,GAAGF,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAtB,CAF2C,CAI3C;;AACA,MAAK,CAACF,UAAD,IAAe,CAACG,aAArB,EAAqC,OAAO,IAAP,CALM,CAO3C;;AACA,QAAMC,aAAa,GAAGJ,UAAU,CAACK,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAtB;AACA,QAAMC,YAAY,GAAGR,GAAG,CAACS,MAAJ,CAAWH,aAAX,CAArB;AAEA,QAAMI,SAAmB,GAAI;AACzBC,IAAAA,KAAK,EAAEH,YAAY,CAACI,GADK;AAEzBC,IAAAA,KAAK,EAAEX,UAFkB;AAGzBY,IAAAA,IAAI,EAAET;AAHmB,GAA7B;AAMA,SAAOK,SAAP;AACH,CAlBD;;AAoBA,MAAMK,aAA8B,GAAGd,eAAe,EAAtD;AAEA,eAAec,aAAf","sourcesContent":["import { UserData } from \"./types\";\nimport jwt from 'jsonwebtoken';\n\nimport { TokenPayload } from '../../types/user';\n\nconst getInitialState = (): UserData | null => {\n    const localToken = localStorage.getItem('@token_user');\n    const localUserName = localStorage.getItem('@user_name');\n\n    // Usu치rio deslogado\n    if ( !localToken || !localUserName ) return null;\n\n    // Usu치rio Logado\n    const filteredToken = localToken.split(' ')[1];\n    const decodedToken = jwt.decode(filteredToken) as TokenPayload;\n    \n    const storeData: UserData =  {\n        login: decodedToken.sub,\n        token: localToken,\n        name: localUserName\n    }\n\n    return storeData;\n}\n\nconst INITIAL_STATE: UserData | null = getInitialState();\n\nexport default INITIAL_STATE;"]},"metadata":{},"sourceType":"module"}